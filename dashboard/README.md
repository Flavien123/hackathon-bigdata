# Дашборд визуализации жалоб на транспорт

Интерактивный дашборд для анализа и визуализации данных о жалобах на общественный транспорт в режиме реального времени.

## Возможности

- Гистограмма самых проблемных маршрутов
- Стековая диаграмма распределения жалоб по уровням критичности
- Круговая диаграмма частоты категорий жалоб
- Фильтрация по категориям, уровням, маршрутам и датам
- Автоматическое обновление данных каждые 5 секунд
- Поддержка светлой и темной темы
- Мультиязычность (русский и казахский языки)

## Настройка проекта

### 1. Установите зависимости

\`\`\`bash
npm install
\`\`\`

### 2. Настройте переменные окружения

Создайте файл `.env.local` в корне проекта (если его нет) и добавьте:

\`\`\`env
NEXT_PUBLIC_API_URL=http://127.0.0.1:53296/api/complaints
\`\`\`

**Важно:** Замените URL на адрес вашего API с жалобами.

### 3. Запустите проект

\`\`\`bash
npm run dev
\`\`\`

Откройте [http://localhost:3000](http://localhost:3000) в браузере.

## Требования к API

Ваш API должен возвращать массив объектов жалоб в формате:

\`\`\`json
[
  {
    "route_number": "12",
    "bus_number": "10051",
    "latitude": 51.1309,
    "longitude": 71.4552,
    "location": "Нұрлы Жол",
    "category": "safety_issue",
    "level": "high",
    "advice": "The situation has been addressed",
    "text": "Есіктер толық жабылмай, автобус қозғалды",
    "time": "2025-11-07T07:30:00Z"
  }
]
\`\`\`

### Поддерживаемые категории:
- `delay` - Задержка
- `safety_issue` - Проблема безопасности
- `cleanliness` - Чистота
- `driver_behavior` - Поведение водителя
- `equipment_malfunction` - Неисправность оборудования

### Поддерживаемые уровни:
- `high` - Высокий
- `medium` - Средний
- `low` - Низкий

## Устранение неполадок

### Ошибка "Не удалось подключиться к API"

1. **Проверьте, что API работает:**
   \`\`\`bash
   curl http://127.0.0.1:53296/api/complaints
   \`\`\`

2. **Убедитесь, что файл `.env.local` существует** и содержит правильный URL

3. **Проверьте консоль браузера** (F12 → Console) на наличие подробных ошибок

4. **Проверьте CORS настройки** вашего API - он должен разрешать запросы с localhost:3000

5. **Перезапустите dev сервер** после изменения `.env.local`

### API не отвечает

Убедитесь, что ваш PostgreSQL API сервер запущен и доступен по указанному адресу.

## Технологии

- Next.js 16
- React 19
- TypeScript
- Tailwind CSS v4
- shadcn/ui
- Recharts
- SWR для real-time обновлений
- date-fns для работы с датами
